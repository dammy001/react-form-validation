var e,t;e=this,t=function(e){const t={email:{rule:e=>e&&e.toString().match(/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i),formatter:e=>e+" is not valid"},required:{rule:e=>e&&void 0!==e&&e.toString().match(/\S/),formatter:e=>e?e+" is required":"This field is required."},numeric:{rule:e=>e&&e.toString().match(/^\d+$/),formatter:e=>e+" should contain only numbers."},alphaNumeric:{rule:e=>e&&e.toString().match(/^[a-z0-9]+$/i),formatter:e=>e+" should not contain special characters, please use only alphabets and numbers."},alphabetic:{rule:e=>e&&e.toString().match(/^[a-z]+$/i),formatter:e=>e+" should contain only alphabets."},maxLength:{rule:(e,t)=>e&&e.toString().length<=t,formatter:(e,t)=>t?`${e} can contain maximum ${t} characters.`:e+" contains more characters than expected."},minLength:{rule:(e,t)=>e&&e.toString().length>=t,formatter:(e,t)=>t?`${e} should contain minimum ${t} characters.`:e+" contains less characters than expected."},phone:{rule:e=>e&&e.toString().match(/^(\+|)(234|0)(7|8|9)(0|1)\d{8}$/),formatter:e=>e+" should contain valid phone number"},url:{rule:e=>e&&e.toString().match(/https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,}/),formatter:e=>e?e+" must be valid url":"This field must be a valid url"},in:{rule:(e,t)=>e&&t.includes(e.toString()),formatter:(e,t)=>`${e} not in any of ${t}`},notIn:{rule:(e,t)=>e&&!t.includes(e.toString()),formatter:(e,t)=>`${e} in any of ${t}`},digitsBetween:{rule:(e,t)=>e&&e.toString().length>=t[0]&&e.toString().length<=t[1],formatter:(e,t)=>`${e} must be a number and between ${t[0]} and ${t[1]}`},regex:{rule:(e,t)=>e&&e.toString().match(t),formatter:e=>e+" does not match the regex provided"},size:{rule:(e,t)=>e&&e.toString().length===t,formatter:(e,t)=>`${e} must be exactly ${t} characters long`},cardNumber:{rule:e=>e&&e.toString().match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|62[0-9]{14})$/),formatter:e=>e+" is not a valid card number"}},a=({key:e,value:a,values:r,checks:l,customValidator:n})=>{if(l){const r=l.split("|");let n="";return r.length&&r.forEach(r=>{const l=r.split(":"),o=l.shift(),s=l.length?l.pop().split(","):[],i=t[o];let u=[],c=[];switch(o){case"maxLength":case"minLength":case"regex":case"size":u=[a,s[0]],c=[e,s[0]];break;case"in":case"notIn":case"digitsBetween":case"creditCard":u=[a,s],c=[e,s];break;default:u=[a],c=[e]}if(o.match(/nullable/)&&(!a||a.constructor===Array&&a.length<1))return!0;"required"!==o&&!a||i.rule.apply(null,u)||(n=i.formatter.apply(null,c))}),n}return"function"==typeof n&&n(a,r)},r=(e,t)=>{switch(t.type){case"UPDATE_FIELD":return{...e,errors:{...e.errors,[t.payload.key]:a({key:t.payload.key,value:t.payload.value,values:e.values,checks:e.checks[t.payload.key],customValidator:e.validators[t.payload.key]})},values:{...e.values,[t.payload.key]:t.payload.value}}}};
/* eslint-disable consistent-return */return t=>{const l={checks:{},values:{},validators:{},errors:{},messages:{}};for(const e in t)l.checks[e]=t[e].checks,l.validators[e]=t[e].validate,l.values[e]=t[e].value,l.errors[e]="";const[n,o]=e.useReducer(r,l),s=({key:e,value:t})=>{if(void 0===n.values[e])throw Error(`Field with key "${e}" not found, please make sure it is define in as follows:\n      useFormValidator({\n        ${e}: {\n          value: "",\n          checks: "required"\n        }\n      })\n      `);o({type:"UPDATE_FIELD",payload:{key:e,value:t}})};return{values:n.values,errors:n.errors,isAllFieldsValid:()=>{let e=!0;for(const t in n.values)a({value:n.values[t],checks:n.checks[t]})&&(e=!1),o({type:"UPDATE_FIELD",payload:{key:t,value:n.values[t],checks:n.checks[t]}});return e},isFieldValid:e=>(s({key:e,value:n.values[e]}),!n.errors[e]),updateField:e=>{s({key:e.target.name,value:e.target.value})}}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["react-form-validation"]=t(e.react);
